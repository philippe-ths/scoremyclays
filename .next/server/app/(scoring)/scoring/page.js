(()=>{var e={};e.id=659,e.ids=[659],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8622:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>h,tree:()=>o}),t(3966),t(5866),t(9187);var r=t(3191),a=t(8716),i=t(7922),l=t.n(i),n=t(5231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(s,c);let o=["",{children:["(scoring)",{children:["scoring",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,3966)),"/Users/ianmarr/projects/scoremyclays/src/app/(scoring)/scoring/page.tsx"]}]},{}]},{"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,9187)),"/Users/ianmarr/projects/scoremyclays/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/ianmarr/projects/scoremyclays/src/app/(scoring)/scoring/page.tsx"],m="/(scoring)/scoring/page",x={require:t,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(scoring)/scoring/page",pathname:"/scoring",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},3812:(e,s,t)=>{Promise.resolve().then(t.bind(t,8625))},8625:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u});var r=t(326),a=t(7577),i=t.n(a),l=t(5047),n=t(2445),c=t(1664),o=t(9752);function d({currentPosition:e,sessionInfo:s,onPositionSetup:t}){let[a,l]=i().useState("");return(0,r.jsxs)("div",{className:"p-4 space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("h2",{className:"text-lg font-bold text-clay-text-primary",children:["Position ",e," of 10"]}),r.jsx("div",{className:"flex items-center space-x-2",children:(0,r.jsxs)("span",{className:"text-sm text-clay-text-secondary",children:[s.groundName," - ",s.shooterName]})})]}),r.jsx("div",{className:"w-full bg-clay-border rounded-full h-2.5",children:r.jsx("div",{className:"bg-clay-primary h-2.5 rounded-full",style:{width:`${e/10*100}%`}})}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"positionName",className:"block text-sm font-semibold text-clay-text-primary",children:"Position Name"}),r.jsx("input",{id:"positionName",type:"text",value:a,onChange:e=>l(e.target.value),placeholder:"Enter position name",className:"w-full h-12 px-4 py-3 text-base border-2 rounded-lg shadow-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-clay-primary/20 border-clay-border bg-clay-surface-elevated focus:border-clay-primary hover:border-clay-primary/60"})]}),(0,r.jsxs)(c.z,{onClick:()=>{a.trim()&&(t(a.trim()),l(""))},size:"touch-lg",className:"w-full bg-clay-primary hover:bg-clay-primary-light text-white font-bold shadow-lg hover:shadow-xl transition-all duration-200",children:["Start Position ",e]})]})}var m=t(8962),x=t(1223);let h={POSITIONS_PER_SESSION:10,TARGETS_PER_POSITION:10};function u(){let{state:e,setupPosition:s,recordShot:t,undoLastShot:i,completePosition:u}=(0,m.N)();(0,l.useRouter)();let[p,g]=(0,a.useState)(null),f=e=>{g(e),t(e),setTimeout(()=>g(null),300)};if(!e.currentSession)return null;let N=e.currentSession,j=N.positions[e.currentPosition];if(!j||!e.isScoring)return(0,r.jsxs)("div",{className:"min-h-screen bg-clay-bg",children:[r.jsx(n.Header,{}),r.jsx("main",{className:"container mx-auto px-4 py-6",children:r.jsx(d,{currentPosition:e.currentPosition+1,sessionInfo:{groundName:N.groundName,shooterName:N.shooterName},onPositionSetup:e=>{s(e)}})})]});let y=(0,x.cb)(j),b=(0,x.MX)(N.positions),v=N.positions.reduce((e,s)=>e+s.shots.length,0),P=(0,x.Fp)(b,v),S=j.shots.filter(e=>"hit"===e.result).length,w=j.shots.filter(e=>"miss"===e.result).length,_=j.shots.filter(e=>"no-bird"===e.result).length;return(0,r.jsxs)("div",{className:"min-h-screen bg-clay-bg",children:[r.jsx(n.Header,{}),(0,r.jsxs)("main",{className:"container mx-auto px-4 py-6 space-y-6",children:[r.jsx(o.Zb,{className:"card-secondary p-4",children:(0,r.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[r.jsx("span",{className:"font-semibold text-clay-text-primary",children:N.groundName}),r.jsx("span",{className:"text-clay-text-secondary",children:N.shooterName})]})}),(0,r.jsxs)(o.Zb,{className:"card-primary p-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-clay-primary",children:b}),r.jsx("div",{className:"text-sm text-clay-text-secondary",children:"Session Score"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"text-3xl font-bold text-clay-accent",children:[P,"%"]}),r.jsx("div",{className:"text-sm text-clay-text-secondary",children:"Hit Rate"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-center text-sm",children:[(0,r.jsxs)("div",{children:[r.jsx("div",{className:"font-semibold text-green-600",children:S}),r.jsx("div",{className:"text-clay-text-secondary",children:"Position Hits"})]}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"font-semibold text-red-600",children:w}),r.jsx("div",{className:"text-clay-text-secondary",children:"Misses"})]}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"font-semibold text-orange-600",children:_}),r.jsx("div",{className:"text-clay-text-secondary",children:"No Birds"})]})]})]}),(0,r.jsxs)(o.Zb,{className:"card-secondary p-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,r.jsxs)("h3",{className:"font-semibold text-clay-text-primary",children:["Position ",j.number," of"," ",h.POSITIONS_PER_SESSION]}),r.jsx("span",{className:"text-sm text-clay-text-secondary",children:j.name})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2 text-sm",children:[(0,r.jsxs)("span",{className:"text-clay-text-secondary",children:["Target ",y.current+1," of"," ",h.TARGETS_PER_POSITION]}),(0,r.jsxs)("span",{className:"font-semibold text-clay-text-primary",children:["Score: ",j.score,"/",y.current]})]}),r.jsx("div",{className:"w-full bg-clay-surface rounded-full h-2",children:r.jsx("div",{className:"bg-clay-accent h-2 rounded-full transition-all duration-300",style:{width:`${y.percentage}%`}})})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[r.jsx(c.z,{variant:"hit",size:"touch-lg",onClick:()=>f("hit"),disabled:j.isComplete,className:`w-full h-24 text-2xl font-bold ${"hit"===p?"animate-pulse":""}`,children:"HIT"}),r.jsx(c.z,{variant:"miss",size:"touch-lg",onClick:()=>f("miss"),disabled:j.isComplete,className:`w-full h-24 text-2xl font-bold ${"miss"===p?"animate-pulse":""}`,children:"MISS"}),r.jsx(c.z,{variant:"no-bird",size:"touch-lg",onClick:()=>f("no-bird"),disabled:j.isComplete,className:`w-full h-24 text-2xl font-bold ${"no-bird"===p?"animate-pulse":""}`,children:"NO BIRD"})]}),y.current>=h.TARGETS_PER_POSITION&&!j.isComplete&&r.jsx("div",{className:"mt-6",children:(0,r.jsxs)(c.z,{variant:"default",size:"touch-lg",onClick:()=>{u()},className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold",children:["Complete Position ",j.number]})}),j.isComplete&&r.jsx(o.Zb,{className:"card-secondary border-2 border-green-500 bg-green-50 p-4 mt-6",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"text-lg font-bold text-green-800 mb-2",children:["\uD83C\uDFAF Position ",j.number," Complete!"]}),(0,r.jsxs)("div",{className:"text-sm text-green-700",children:["Score: ",j.score,"/",h.TARGETS_PER_POSITION," (",(0,x.Fp)(j.score,h.TARGETS_PER_POSITION),"%)"]}),e.currentPosition<h.POSITIONS_PER_SESSION-1&&r.jsx("div",{className:"text-sm text-green-600 mt-2",children:"Moving to next position..."})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[r.jsx(c.z,{variant:"outline",size:"touch",onClick:()=>{i()},disabled:!e.canUndo||j.isComplete,className:"font-semibold",children:"UNDO"}),r.jsx(c.z,{variant:"secondary",size:"touch",onClick:()=>{},className:"font-semibold",children:"PAUSE"})]})]}),N.positions.filter(e=>e.isComplete).length>0&&(0,r.jsxs)(o.Zb,{className:"card-secondary p-4",children:[r.jsx("h3",{className:"font-semibold text-clay-text-primary mb-3",children:"Completed Positions"}),r.jsx("div",{className:"grid grid-cols-5 gap-2",children:N.positions.filter(e=>e.isComplete).map(e=>r.jsx("div",{className:"text-center",children:(0,r.jsxs)("div",{className:"bg-clay-surface rounded-lg p-2",children:[(0,r.jsxs)("div",{className:"font-bold text-clay-primary",children:[e.score,"/",h.TARGETS_PER_POSITION]}),r.jsx("div",{className:"text-xs text-clay-text-secondary",children:e.name})]})},e.id))})]})]})]})}},2445:(e,s,t)=>{"use strict";t.d(s,{Header:()=>l});var r=t(326),a=t(615),i=t(1223);function l({title:e="ScoreMyClays",showBackButton:s=!1,onBack:t,className:l}){let{isConnected:n,error:c}=(0,a.Q)();return r.jsx("header",{className:(0,i.cn)("sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 safe-top",l),children:(0,r.jsxs)("div",{className:"container flex h-16 items-center justify-between px-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[s&&r.jsx("button",{onClick:t,className:"flex h-10 w-10 items-center justify-center rounded-md hover:bg-accent","aria-label":"Go back",children:r.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),r.jsx("h1",{className:"text-xl font-semibold text-foreground",children:e})]}),r.jsx("div",{className:"flex items-center space-x-2",children:(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[r.jsx("div",{className:(0,i.cn)("h-2 w-2 rounded-full",n?"bg-green-500":c?"bg-red-500":"bg-yellow-500")}),r.jsx("span",{className:"text-xs text-muted-foreground hidden sm:inline",children:n?"Online":c?"Error":"Offline"})]})})]})})}},9752:(e,s,t)=>{"use strict";t.d(s,{Zb:()=>l,aY:()=>n});var r=t(326),a=t(7577),i=t(1223);let l=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));l.displayName="Card",a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...s})).displayName="CardHeader",a.forwardRef(({className:e,children:s,...t},a)=>(0,r.jsxs)("h3",{ref:a,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t,children:[s||"Untitled"," "]})).displayName="CardTitle",a.forwardRef(({className:e,...s},t)=>r.jsx("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",e),...s})).displayName="CardDescription";let n=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,i.cn)("p-6 pt-0",e),...s}));n.displayName="CardContent",a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},3966:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(8570).createProxy)(String.raw`/Users/ianmarr/projects/scoremyclays/src/app/(scoring)/scoring/page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[1,869],()=>t(8622));module.exports=r})();